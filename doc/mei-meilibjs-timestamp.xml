<!-- <?xml-model href="../source/tei_odds.rng" type="application/xml" schematypens="http://purl.oclc.org/dsdl/schematron"?>
<?xml-model href="../source/tei_odds.rng" type="application/xml" schematypens="http://relaxng.org/ns/structure/1.0"?> -->
<TEI xmlns="http://www.tei-c.org/ns/1.0" xmlns:rng="http://relaxng.org/ns/structure/1.0"
  xmlns:sch="http://purl.oclc.org/dsdl/schematron">
  <teiHeader>
    <fileDesc>
      <titleStmt>
        <title>Music Encoding Initiative Guidelines: <title type="sub">Customization for meiLib.js</title></title>
      </titleStmt>
      <publicationStmt>
        <p/>
      </publicationStmt>
      <sourceDesc>
        <p/>
      </sourceDesc>
    </fileDesc>
  </teiHeader>
  <text>
    <front>
      <divGen type="toc"/>
    </front>
    <body>
      <schemaSpec ident="mei" ns="http://www.music-encoding.org/ns/mei" start="mei meiHead meiCorpus
        music">
        <moduleRef key="MEI"/>
        <moduleRef key="MEI.shared"/>
        <moduleRef key="MEI.header"/>
        <moduleRef key="MEI.cmn"/>
        <!-- Disable mensural and neume modules -->
        <!--<moduleRef key="MEI.mensural"/> -->
        <!--<moduleRef key="MEI.neumes"/>-->
        <!-- <moduleRef key="MEI.analysis"/> -->
        <!-- <moduleRef key="MEI.cmnOrnaments"/> -->
        <!-- <moduleRef key="MEI.corpus"/> -->
        <!-- <moduleRef key="MEI.critapp"/> -->
        <!-- <moduleRef key="MEI.edittrans"/> -->
        <!-- <moduleRef key="MEI.facsimile"/> -->
        <!-- <moduleRef key="MEI.figtable"/> -->
        <!-- <moduleRef key="MEI.frbr"/> -->
        <!-- <moduleRef key="MEI.harmony"/> -->
        <moduleRef key="MEI.linkalign"/>
        <moduleRef key="MEI.lyrics"/>
        <!-- <moduleRef key="MEI.midi"/> -->
        <!-- <moduleRef key="MEI.namesdates"/> -->
        <!-- <moduleRef key="MEI.performance"/> -->
        <moduleRef key="MEI.ptrref"/>
        <!-- <moduleRef key="MEI.tablature"/> -->
        <moduleRef key="MEI.text"/>
        <!-- <moduleRef key="MEI.usersymbols"/> -->

        <!-- Disable mensural- and neume-specific model classes in the shared module -->
        <classSpec ident="model.scorePart.mensuralAndNeumes" module="MEI.shared" type="model"
          mode="delete"/>
        <classSpec ident="model.sectionPart.mensuralAndNeumes" module="MEI.shared" type="model"
          mode="delete"/>
        <classSpec ident="model.staffPart.mensuralAndNeumes" module="MEI.shared" type="model"
          mode="delete"/>
        <classSpec ident="model.layerPart.mensuralAndNeumes" module="MEI.shared" type="model"
          mode="delete"/>
        
        <!-- (clef shape isn't important) -->

        <!-- TODO: meter change only between measures! -->
        <!-- TODO: @dur of note, rest, space must be defined! -->
        <!-- TODO: duration of chord should be well-defined! -->
        <!-- TODO: children of beam can only be note, rest, space or chord -->
        
        <!-- children of layer can only be note, rest, space, mRest, chord or beam -->
        <classSpec ident="model.vexEventLike" mode="add" module="MEI.cmn" type="model">
          <desc>groups event elements what MeiLib.js can accept when converting between timestamps and xml:id values</desc>
        </classSpec>
        <elementSpec ident="note" module="MEI.shared" mode="change">
          <classes mode="change">
            <memberOf key="att.common"/>
            <memberOf key="att.facsimile"/>
            <memberOf key="att.note.log"/>
            <memberOf key="att.note.vis"/>
            <memberOf key="att.note.ges"/>
            <memberOf key="att.note.anl"/>
            <memberOf key="model.eventLike"/>
            <memberOf key="model.vexEventLike"/>
          </classes>
        </elementSpec>
        <elementSpec ident="rest" module="MEI.shared" mode="change">
          <classes mode="change">
            <memberOf key="att.common"/>
            <memberOf key="att.facsimile"/>
            <memberOf key="att.rest.log"/>
            <memberOf key="att.rest.vis"/>
            <memberOf key="att.rest.ges"/>
            <memberOf key="att.rest.anl"/>
            <memberOf key="model.eventLike"/>
            <memberOf key="model.vexEventLike"/>
          </classes>
        </elementSpec>
        <elementSpec ident="space" module="MEI.shared">
          <classes mode="change">
            <memberOf key="att.common"/>
            <memberOf key="att.facsimile"/>
            <memberOf key="att.space.log"/>
            <memberOf key="att.space.vis"/>
            <memberOf key="att.space.ges"/>
            <memberOf key="att.space.anl"/>
            <memberOf key="model.eventLike"/>
            <memberOf key="model.vexEventLike"/>
          </classes>
        </elementSpec>
        <elementSpec ident="mRest" module="MEI.cmn" mode="change">
          <classes mode="change">
            <memberOf key="att.common"/>
            <memberOf key="att.facsimile"/>
            <memberOf key="att.mRest.log"/>
            <memberOf key="att.mRest.vis"/>
            <memberOf key="att.mRest.ges"/>
            <memberOf key="att.mRest.anl"/>
            <memberOf key="model.eventLike.measureFilling"/>
            <memberOf key="model.vexEventLike"/>
          </classes>
        </elementSpec>
        <elementSpec ident="chord" module="MEI.shared">
          <classes mode="change">
            <memberOf key="att.common"/>
            <memberOf key="att.facsimile"/>
            <memberOf key="att.chord.log"/>
            <memberOf key="att.chord.vis"/>
            <memberOf key="att.chord.ges"/>
            <memberOf key="att.chord.anl"/>
            <memberOf key="model.eventLike"/>
            <memberOf key="model.vexEventLike"/>
          </classes>
        </elementSpec>
        <elementSpec ident="beam" module="MEI.cmn" mode="change">
          <classes mode="change">
            <memberOf key="att.common"/>
            <memberOf key="att.facsimile"/>
            <memberOf key="att.beam.log"/>
            <memberOf key="att.beam.vis"/>
            <memberOf key="att.beam.ges"/>
            <memberOf key="att.beam.anl"/>
            <memberOf key="model.eventLike.cmn"/>
            <memberOf key="model.vexEventLike"/>
          </classes>
        </elementSpec>
        <elementSpec ident="layer" module="MEI.shared" mode="change">
          <desc mode="change">An independent stream of events on a staff. In order to convert 
            xml:ids into timestamp and back, MeiLib can only accept certain elements under layer.
            <!-- The term 'layer' is used instead of
            'voice' in order to avoid confusion between 'voice' and 'voice leading'. The def attribute
            may be used to create a connection with a layerDef element where logical and visual
            information about the layer is recorded. Alternatively, the n attribute may be used as a
            reference to a layerDef element with the same value in its n attribute. If neither def nor n
            attributes are present, then encoding order of the layers is presumed to match the encoding
            order of the layer definitions.--></desc>
          <content mode="replace">
            <rng:zeroOrMore>
                <rng:ref name="model.vexEventLike"/>
            </rng:zeroOrMore>
          </content>
        </elementSpec>
        
      </schemaSpec>
    </body>
  </text>
</TEI>
