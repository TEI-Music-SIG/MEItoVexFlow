<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>MEItoVexFlow Demo</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <script src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
    <script src="http://vexflow.com/vextab/support/vexflow-min.js"></script>
    <script type="text/JavaScript" src="javascripts/meitovexflow.js"></script>  
    <script type="text/JavaScript" src="javascripts/support.js"></script>
    <script type="text/JavaScript">
    var testItem_html = "<h2><span class='test-title' property='dc:title'>Title Comes Here</span></h2><div class='a'><canvas width='1031' height='450' style='border: none'></canvas></div>"
    Vex.LogLevel = 5;
    $(document).ready(function(){
      var test_cases = new Array();

      // add examples
      test_cases.push({ title: 'Bartok Duo No.23', mei_xml: 'Bartok-WeddingSong-altered.xml', canvas_height:500});
      var canvas_elements = new Array();
      var title_elements = new Array();
      //create as many canvases and title elements as many examples... 
      $(test_cases).each( function(index) {
        $('div.MEI2VFexample').append(testItem_html);

        //...and load them into canvas_elements and title_elements arrays
        canvas_elements[index] = $("div.a canvas")[index]
        title_elements[index] = $("span.test-title")[index];
      })

      //render examples
      var i;
      for (i=0;i<test_cases.length;i++) {
        Vex.LogInfo('Starting rendering example #' + i.toString());
        try {
          MEI2VF.RunTest(test_cases[i], canvas_elements[i], title_elements[i]);
        } catch(e) {
          Vex.LogError('Error during rendering example #' + i.toString() + " title: " + test_cases[i].title + ". Error Message: " +  e.toString());
        }
      }
    });
    </script>
    <style>
    pre {
      width: 1000px;
      height: 1000px;
    }
    .view{
      line-height: 1.8em;
    }
    </style>
  </head>
  <body>
    <div class="wrapper">
      <section class="demo">

        <p></p>

        <div class="MEI2VFexample">
        </div>

        <pre><code>

  				&lt;score&gt;
  					&lt;scoreDef&gt;
  						&lt;staffGrp symbol="brace"&gt;
  								&lt;staffDef n="1" label="Violin I." clef.line="2" clef.shape="G" meter.count="2" meter.unit="4" key.pname="d" key.mode="minor"/&gt;
  								&lt;staffDef n="2" label="Violin II." clef.line="2" clef.shape="G" meter.count="2" meter.unit="4" key.pname="d" key.mode="minor"/&gt;
  						&lt;/staffGrp&gt;
  					&lt;/scoreDef&gt;
  					&lt;section&gt;
  						&lt;measure n="1"&gt;
  							&lt;staff n="1"&gt;
  								&lt;layer&gt;
  									&lt;mRest/&gt;
  								&lt;/layer&gt;
  							&lt;/staff&gt;
  							&lt;staff n="2"&gt;
  								&lt;layer&gt;
  									&lt;beam&gt;
  										&lt;note pname="d" oct="5" dur="8"&gt;
  											&lt;artic artic="ten" /&gt;
  										&lt;/note&gt;
  										&lt;note pname="d" oct="5" dur="8"&gt;
  											&lt;artic artic="ten" /&gt;
  										&lt;/note&gt;
  										&lt;note pname="d" oct="5" dur="8"&gt;
  											&lt;artic artic="ten" /&gt;
  										&lt;/note&gt;
  										&lt;note pname="d" oct="5" dur="8"&gt;
  											&lt;artic artic="ten" /&gt;
  										&lt;/note&gt;
  									&lt;/beam&gt;
  									&lt;beam&gt;
  										&lt;note pname="c" oct="5" dur="8" stem.dir="down"&gt;
  											&lt;artic artic="ten" /&gt;
  										&lt;/note&gt;
  										&lt;note pname="b" oct="4" dur="8" stem.dir="down"&gt;
  											&lt;artic artic="ten" /&gt;
  										&lt;/note&gt;
  										&lt;note pname="a" oct="4" dur="8" stem.dir="down"&gt;
  											&lt;artic artic="ten" /&gt;
  										&lt;/note&gt;
  										&lt;note pname="b" oct="4" dur="8" stem.dir="down"&gt;
  											&lt;artic artic="ten" /&gt;
  										&lt;/note&gt;
  									&lt;/beam&gt;
  								&lt;/layer&gt;
  							&lt;/staff&gt;
  						&lt;/measure&gt;
  						&lt;measure n="2"&gt;
  							&lt;staff n="1"&gt;
  								&lt;layer n="1"&gt;
  									&lt;note pname="d" oct="5" dur="1"/&gt;
  								&lt;/layer&gt;
  								&lt;layer n="2"&gt;
  									&lt;note pname="d" oct="4" dur="1"/&gt;
  								&lt;/layer&gt;
  							&lt;/staff&gt;
  							&lt;staff n="2"&gt;
  								&lt;layer&gt;
  									&lt;beam&gt;
  										&lt;note pname="c" oct="5" dur="8" stem.dir="up"&gt;
  											&lt;artic artic="ten" /&gt;
  										&lt;/note&gt;
  										&lt;note pname="b" oct="4" dur="8" stem.dir="up"&gt;
  											&lt;artic artic="ten" /&gt;
  										&lt;/note&gt;
  										&lt;note pname="a" oct="4" dur="8" stem.dir="up"&gt;
  											&lt;artic artic="ten" /&gt;
  										&lt;/note&gt;
  										&lt;note pname="d" oct="4" dur="8" stem.dir="up" xml:id="m2n4" tie="i"/&gt;
  									&lt;/beam&gt;
  									&lt;note pname="d" oct="4" dur="4" tie="t"/&gt;
  									&lt;note pname="a" oct="4" dur="8" xml:id="m2n6"&gt;
  										&lt;artic artic="dot"/&gt;
  									&lt;/note&gt;
  									&lt;rest dur="8"/&gt;
  								&lt;/layer&gt;
  							&lt;/staff&gt;
  							&lt;hairpin staff="2" form="dim" startid="m2n4" endid="m2n6"/&gt;
  						&lt;/measure&gt;
  						&lt;scoreDef&gt;
  							&lt;staffGrp symbol="brace"&gt;
  									&lt;staffDef n="1" label="Violin I." clef.line="2" clef.shape="G" meter.count="3" meter.unit="2" key.pname="d" key.mode="minor"/&gt;
  									&lt;staffDef n="2" label="Violin II." clef.line="2" clef.shape="G" meter.count="3" meter.unit="2" key.pname="d" key.mode="minor"/&gt;
  							&lt;/staffGrp&gt;
  						&lt;/scoreDef&gt;
  						&lt;measure n="3"&gt;
  							&lt;staff n="1"&gt;
  								&lt;layer n="1"&gt;
  									&lt;note pname="e" oct="5" accid="f" dur="2" stem.dir="up" slur="i1"/&gt;
  									&lt;note pname="d" oct="5" dur="1" slur="t1"/&gt;
  								&lt;/layer&gt;
  								&lt;layer n="2"&gt;
  									&lt;note pname="d" oct="4" dur="1" dots="1"/&gt;
  								&lt;/layer&gt;
  							&lt;/staff&gt;
  							&lt;staff n="2"&gt;
  								&lt;layer&gt;
  									&lt;note pname="g" oct="4" dur="4" dots="1"/&gt;
  									&lt;note pname="d" oct="4" dur="8"/&gt;
  									&lt;note pname="e" oct="4" dur="8"/&gt;
  									&lt;note pname="f" oct="4" dur="2" dots="2"/&gt;
  								&lt;/layer&gt;
  							&lt;/staff&gt;
  						&lt;/measure&gt;
  						&lt;measure n="4"&gt;
  							&lt;staff n="1"&gt;
  								&lt;layer n="1"&gt;
  									&lt;note pname="c" oct="5" accid="s" dur="2" stem.dir="up" slur="i1"/&gt;
  									&lt;note pname="d" oct="5" dur="1" slur="t1"/&gt;
  								&lt;/layer&gt;
  								&lt;layer n="2"&gt;
  									&lt;note pname="d" oct="4" dur="1" dots="1"/&gt;
  								&lt;/layer&gt;
  							&lt;/staff&gt;
  							&lt;staff n="2"&gt;
  								&lt;layer&gt;
  									&lt;note pname="c" oct="5" dur="4" dots="1"/&gt;
  									&lt;note pname="b" oct="4" dur="8"/&gt;
  									&lt;note pname="a" oct="4" dur="8"/&gt;
  									&lt;note pname="d" oct="4" dur="4" dots="1" tie="i"/&gt;
  									&lt;note pname="d" oct="4" dur="4" tie="t"/&gt;
  									&lt;note pname="a" oct="4" dur="8"&gt;
  										&lt;artic artic="dot"/&gt;
  									&lt;/note&gt;
  									&lt;rest dur="8"/&gt;
  								&lt;/layer&gt;
  							&lt;/staff&gt;
  						&lt;/measure&gt;
  						&lt;sb/&gt;
  						&lt;measure n="5"&gt;
  							&lt;staff n="1"&gt;
  								&lt;layer n="1"&gt;
  									&lt;note pname="e" oct="5" accid="f" dur="2" stem.dir="up" slur="i1"/&gt;
  									&lt;note pname="b" oct="4" dur="1" slur="t1"/&gt;
  								&lt;/layer&gt;
  								&lt;layer n="2"&gt;
  									&lt;note pname="d" oct="4" dur="1" dots="1"/&gt;
  								&lt;/layer&gt;
  							&lt;/staff&gt;
  							&lt;staff n="2"&gt;
  								&lt;layer&gt;
  									&lt;note pname="g" oct="4" dur="4"/&gt;
  									&lt;note pname="d" oct="4" dur="4"/&gt;
  									&lt;note pname="e" oct="4" dur="8"/&gt;
  									&lt;note pname="f" oct="4" dur="2" dots="2"/&gt;
  								&lt;/layer&gt;
  							&lt;/staff&gt;
  						&lt;/measure&gt;
  						&lt;measure n="6"&gt;
  							&lt;staff n="1"&gt;
  								&lt;layer n="1"&gt;
  									&lt;note pname="b" oct="4" accid="n" dur="1" slur="i1"/&gt;
  									&lt;note pname="c" oct="5" accid="s" dur="2" stem.dir="up" slur="t1"/&gt;
  								&lt;/layer&gt;
  								&lt;layer n="2"&gt;
  									&lt;note pname="d" oct="4" dur="1" dots="1"/&gt;
  								&lt;/layer&gt;
  							&lt;/staff&gt;
  							&lt;staff n="2"&gt;
  								&lt;layer&gt;
  									&lt;note pname="b" oct="4" accid="f" dur="4"/&gt;
  									&lt;note pname="a" oct="4" dur="4"/&gt;
  									&lt;note pname="g" oct="4" dur="2" dots="1"/&gt;
  									&lt;note pname="a" oct="4" dur="4"/&gt;
  								&lt;/layer&gt;
  							&lt;/staff&gt;
  						&lt;/measure&gt;
  						&lt;scoreDef&gt;
  							&lt;staffGrp symbol="brace"&gt;
  									&lt;staffDef n="1" label="Violin I." clef.line="2" clef.shape="G" meter.count="2" meter.unit="2" key.pname="d" key.mode="minor"/&gt;
  									&lt;staffDef n="2" label="Violin II." clef.line="2" clef.shape="G" meter.count="2" meter.unit="2" key.pname="d" key.mode="minor"/&gt;
  							&lt;/staffGrp&gt;
  						&lt;/scoreDef&gt;
  						&lt;measure n="7"&gt;
  							&lt;staff n="1"&gt;
  								&lt;layer&gt;
  									&lt;chord&gt;
  										&lt;note pname="a" oct="4" dur="1"/&gt;
  										&lt;note pname="g" oct="4" dur="1"/&gt;
  									&lt;/chord&gt;
  								&lt;/layer&gt;
  							&lt;/staff&gt;
  							&lt;staff n="2"&gt;
  								&lt;layer&gt;
  									&lt;note pname="g" oct="4" dur="8"&gt;
  										&lt;artic artic="dot"/&gt;
  									&lt;/note&gt;
  									&lt;note pname="d" oct="4" dur="2" dots="2"/&gt;
  								&lt;/layer&gt;
  							&lt;/staff&gt;
  						&lt;/measure&gt;
  						&lt;measure n="8"&gt;
  							&lt;staff n="1"&gt;
  								&lt;layer&gt;
  									&lt;beam&gt;
  										&lt;chord&gt;
  											&lt;note pname="d" oct="5" dur="8"/&gt;
  											&lt;note pname="d" oct="4" dur="8"&gt;
  												&lt;artic artic="acc"/&gt;
  											&lt;/note&gt;
  										&lt;/chord&gt;
  										&lt;chord&gt;
  											&lt;note pname="a" oct="4" dur="8"/&gt;
  											&lt;note pname="f" oct="4" accid="s" dur="8"&gt;
  												&lt;artic artic="dot"/&gt;
  											&lt;/note&gt;
  										&lt;/chord&gt;
  									&lt;/beam&gt;
  									&lt;rest dur="4"/&gt;
  									&lt;rest dur="2"/&gt;
  								&lt;/layer&gt;
  							&lt;/staff&gt;
  							&lt;staff n="2"&gt;
  								&lt;layer&gt;
  									&lt;note pname="d" oct="4" dur="8"&gt;
  										&lt;artic artic="acc"/&gt;
  									&lt;/note&gt;
  									&lt;note pname="d" oct="4" dur="8"&gt;
  										&lt;artic artic="dot"/&gt;
  									&lt;/note&gt;
  									&lt;rest dur="4"/&gt;
  									&lt;rest dur="2"/&gt;
  								&lt;/layer&gt;
  							&lt;/staff&gt;
  						&lt;/measure&gt;
  						&lt;measure n="9"&gt;
  							&lt;staff n="1"&gt;
  								&lt;layer&gt;
  									&lt;rest dur="2"/&gt;
  									&lt;chord&gt;
  										&lt;note pname="a" oct="4" dur="2" tie="i"/&gt;
  										&lt;note pname="g" oct="4" dur="2" tie="i"/&gt;
  									&lt;/chord&gt;
  								&lt;/layer&gt;
  							&lt;/staff&gt;
  							&lt;staff n="2"&gt;
  								&lt;layer&gt;
  									&lt;beam&gt;
  										&lt;note pname="g" oct="4" dur="8"&gt;
  											&lt;artic artic="ten" /&gt;
  										&lt;/note&gt;
  										&lt;note pname="g" oct="4" dur="8"&gt;
  											&lt;artic artic="ten" /&gt;
  										&lt;/note&gt;
  										&lt;note pname="g" oct="4" dur="8"&gt;
  											&lt;artic artic="ten" /&gt;
  										&lt;/note&gt;
  										&lt;note pname="g" oct="4" dur="8"&gt;
  											&lt;artic artic="ten" /&gt;
  										&lt;/note&gt;
  									&lt;/beam&gt;
  									&lt;beam&gt;
  										&lt;note pname="f" oct="4" dur="8"&gt;
  											&lt;artic artic="ten" /&gt;
  										&lt;/note&gt;
  										&lt;note pname="e" oct="4" accid="f" dur="8"&gt;
  											&lt;artic artic="ten" /&gt;
  										&lt;/note&gt;
  										&lt;note pname="d" oct="4" dur="8"&gt;
  											&lt;artic artic="ten" /&gt;
  										&lt;/note&gt;
  										&lt;note pname="e" oct="4" dur="8"&gt;
  											&lt;artic artic="ten" /&gt;
  										&lt;/note&gt;
  									&lt;/beam&gt;
  								&lt;/layer&gt;
  							&lt;/staff&gt;
  						&lt;/measure&gt;
  					&lt;/section&gt;
  				&lt;/score&gt;
          
        </code></pre>

      </section>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    <script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
    try {
      var pageTracker = _gat._getTracker("UA-42659037-1");
      pageTracker._trackPageview();
    } catch(err) {}
    </script>

  </body>
</html>