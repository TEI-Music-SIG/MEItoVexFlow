<!DOCTYPE html>
<html
xmlns="http://www.w3.org/1999/xhtml"
xmlns:mei="http://www.music-encoding.org/ns/mei"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xmlns:foaf="http://xmlns.com/foaf/0.1/"
xmlns:dc="http://purl.org/dc/elements/1.1/"
xmlns:mo="http://purl.org/ontology/mo/"
xmlns:mo-i="http://purl.org/ontology/mo-imaginary/"
xmlns:event="http://purl.org/NET/c4dm/event.owl"
version="HTML+RDFa 1.0" xml:lang="en">
<head>
  <title>MEI-to-VexFlow Test Page</title>
  <meta http-equiv="Content-type" content="text/html; charset=utf-8" />

  <style type="text/css">
  .test-page {
    padding: 2em;
    text-align: center
  }
  body {
    background: #efefff;
  }
  canvas, svg {
    background: #fff;
  }
  </style>

  <script type="text/JavaScript" src="../bower_components/jquery/dist/jquery.min.js"></script>

  <!-- <script type="text/JavaScript" src="../bower_components/vexflow/build/vexflow/vexflow-min.js"></script> -->

  <!-- VexFlow Sources -->
  <script src="../bower_components/vexflow/src/header.js"></script>
  <script src="../bower_components/vexflow/src/vex.js"></script>
  <script src="../bower_components/vexflow/src/flow.js"></script>
  <script src="../bower_components/vexflow/src/fraction.js"></script>
  <script src="../bower_components/vexflow/src/fonts/vexflow_font.js"></script>
  <script src="../bower_components/vexflow/src/glyph.js"></script>
  <script src="../bower_components/vexflow/src/tables.js"></script>
  <script src="../bower_components/vexflow/src/stave.js"></script>
  <script src="../bower_components/vexflow/src/staveconnector.js"></script>
  <script src="../bower_components/vexflow/src/tabstave.js"></script>
  <script src="../bower_components/vexflow/src/voice.js"></script>
  <script src="../bower_components/vexflow/src/voicegroup.js"></script>
  <script src="../bower_components/vexflow/src/modifier.js"></script>
  <script src="../bower_components/vexflow/src/modifiercontext.js"></script>
  <script src="../bower_components/vexflow/src/accidental.js"></script>
  <script src="../bower_components/vexflow/src/dot.js"></script>
  <script src="../bower_components/vexflow/src/tickcontext.js"></script>
  <script src="../bower_components/vexflow/src/tickable.js"></script>
  <script src="../bower_components/vexflow/src/note.js"></script>
  <script src="../bower_components/vexflow/src/bend.js"></script>
  <script src="../bower_components/vexflow/src/stem.js"></script>
  <script src="../bower_components/vexflow/src/notehead.js"></script>
  <script src="../bower_components/vexflow/src/stemmablenote.js"></script>
  <script src="../bower_components/vexflow/src/stavenote.js"></script>
  <script src="../bower_components/vexflow/src/tabnote.js"></script>
  <script src="../bower_components/vexflow/src/barnote.js"></script>
  <script src="../bower_components/vexflow/src/clefnote.js"></script>
  <script src="../bower_components/vexflow/src/timesignote.js"></script>
  <script src="../bower_components/vexflow/src/ghostnote.js"></script>
  <script src="../bower_components/vexflow/src/formatter.js"></script>
  <script src="../bower_components/vexflow/src/stavetie.js"></script>
  <script src="../bower_components/vexflow/src/stavehairpin.js"></script>
  <script src="../bower_components/vexflow/src/tabtie.js"></script>
  <script src="../bower_components/vexflow/src/tabslide.js"></script>
  <script src="../bower_components/vexflow/src/beam.js"></script>
  <script src="../bower_components/vexflow/src/vibrato.js"></script>
  <script src="../bower_components/vexflow/src/annotation.js"></script>
  <script src="../bower_components/vexflow/src/tuning.js"></script>
  <script src="../bower_components/vexflow/src/stavemodifier.js"></script>
  <script src="../bower_components/vexflow/src/keysignature.js"></script>
  <script src="../bower_components/vexflow/src/timesignature.js"></script>
  <script src="../bower_components/vexflow/src/clef.js"></script>
  <script src="../bower_components/vexflow/src/music.js"></script>
  <script src="../bower_components/vexflow/src/keymanager.js"></script>
  <script src="../bower_components/vexflow/src/renderer.js"></script>
  <script src="../bower_components/vexflow/src/stavebarline.js"></script>
  <script src="../bower_components/vexflow/src/stavevolta.js"></script>
  <script src="../bower_components/vexflow/src/staverepetition.js"></script>
  <script src="../bower_components/vexflow/src/stavesection.js"></script>
  <script src="../bower_components/vexflow/src/stavetempo.js"></script>
  <script src="../bower_components/vexflow/src/stavetext.js"></script>
  <script src="../bower_components/vexflow/src/articulation.js"></script>
  <script src="../bower_components/vexflow/src/tremolo.js"></script>
  <script src="../bower_components/vexflow/src/raphaelcontext.js"></script>
  <script src="../bower_components/vexflow/src/canvascontext.js"></script>
  <script src="../bower_components/vexflow/src/tuplet.js"></script>
  <script src="../bower_components/vexflow/src/boundingbox.js"></script>
  <script src="../bower_components/vexflow/src/textnote.js"></script>
  <script src="../bower_components/vexflow/src/strokes.js"></script>
  <script src="../bower_components/vexflow/src/stringnumber.js"></script>
  <script src="../bower_components/vexflow/src/frethandfinger.js"></script>
  <script src="../bower_components/vexflow/src/gracenote.js"></script>
  <script src="../bower_components/vexflow/src/gracenotegroup.js"></script>
  <script src="../bower_components/vexflow/src/curve.js"></script>
  <script src="../bower_components/vexflow/src/staveline.js"></script>
  <script src="../bower_components/vexflow/src/crescendo.js"></script>
  <script src="../bower_components/vexflow/src/ornament.js"></script>
  <script src="../bower_components/vexflow/src/pedalmarking.js"></script>
  <script src="../bower_components/vexflow/src/textbracket.js"></script>
  <script src="../bower_components/vexflow/src/textdynamics.js"></script>

  <!-- <script type="text/JavaScript" src="../dist/meitovexflow.js"></script>
    -->

    <script type="text/JavaScript" src="../src/vexflow-overrides.js"></script>
    <script type="text/JavaScript" src="../src/meilib.js"></script>
    <script type="text/JavaScript" src="../src/MEI2VF.js"></script>
    <script type="text/JavaScript" src="../src/Chord.js"></script>
    <script type="text/JavaScript" src="../src/EventLink.js"></script>
    <script type="text/JavaScript" src="../src/EventReference.js"></script>
    <script type="text/JavaScript" src="../src/Hyphenation.js"></script>
    <script type="text/JavaScript" src="../src/Verses.js"></script>
    <script type="text/JavaScript" src="../src/StaffInfo.js"></script>
    <script type="text/JavaScript" src="../src/System.js"></script>
    <script type="text/JavaScript" src="../src/SystemInfo.js"></script>
    <script type="text/JavaScript" src="../src/LinkCollections.js"></script>
    <script type="text/JavaScript" src="../src/PointerCollections.js"></script>
    <script type="text/JavaScript" src="../src/Rest.js"></script>
    <script type="text/JavaScript" src="../src/Measure.js"></script>
    <script type="text/JavaScript" src="../src/Note.js"></script>
    <script type="text/JavaScript" src="../src/Stave.js"></script>
    <script type="text/JavaScript" src="../src/StaveConnector.js"></script>
    <script type="text/JavaScript" src="../src/StaveVoices.js"></script>
    <script type="text/JavaScript" src="../src/tables.js"></script>
    <script type="text/JavaScript" src="../src/Converter.js"></script>
    <script type="text/JavaScript" src="../src/Util.js"></script>
    <script type="text/JavaScript" src="../src/Interface.js"></script>

    <script type="text/JavaScript" src="loadXMLDoc.js"></script>
    <script type="text/JavaScript" src="runtest.js"></script>

    <script type="text/JavaScript">
    var testItem_html = "<h2><span class='test-title' property='dc:title'>Title of Test Comes Here</span></h2><div class='a'><canvas width='1031' height='450' style='border: none'></canvas></div>"
    MEI2VF.setLogging(true);
    $(document).ready(function(){
      var test_cases = new Array();

      /**
       * add test cases
       */
      test_cases.push({ title: 'Bach2013.xml', mei_xml: 'Bach2013.xml', canvas_height:400});


      var canvas_elements = new Array();
      var title_elements = new Array();

      /**
       * create as many canvases and title elements as test cases...
       */
      $(test_cases).each( function(index) {
        $('div.test-page').append(testItem_html);

        /**
         * ...and load them into canvas_elements and title_elements arrays
         */
        canvas_elements[index] = $("div.a canvas")[index]
        title_elements[index] = $("span.test-title")[index];
      })

      /**
       * render test cases
       */
      var i;
      for (i=0;i<test_cases.length;i++) {
        window.console.log('Starting Test Case #' + i);
        // try {
        MEI2VF.RunTest(test_cases[i], canvas_elements[i], title_elements[i]);
        // } catch(e) {
        // window.console.log('Error during rendering test case #' + i.toString() + " title: " + test_cases[i].title + ". Error Message: " +  e.toString());
        // }
      }
    });
    </script>
  </head>
  <body>
    <div class="test-page">
    </div>
    <script src="//localhost:35729/livereload.js"></script>
  </body>
  </html>
